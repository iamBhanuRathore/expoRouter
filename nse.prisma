// schema.prisma

// Define the database connection
datasource db {
    provider = "sqlserver" // Adjust the provider based on your SQL database
    url      = env("DATABASE_URL") // Provide your database connection URL here
}

// Define the Records table
model Records {
    id              Int      @id @default(autoincrement())
    timestamp       DateTime @db.DateTime
    underlyingValue Float    @db.Float
    strikePrices    Float    @db.Float
    query           String   @db.Char()
    options         Option[]
}

// Define the Options table
model Option {
    id                    Int      @id @default(autoincrement())
    strikePrice           Float    @db.Float
    expiryDate            DateTime @db.DateTime
    type                  String // CE || PE
    underlying            String
    identifier            String
    openInterest          Int      @db.Int
    changeinOpenInterest  Int      @db.Int
    pchangeinOpenInterest Float    @db.Float
    totalTradedVolume     Int      @db.Int
    impliedVolatility     Float    @db.Float
    lastPrice             Float    @db.Float
    change                Float    @db.Float
    pChange               Float    @db.Float
    totalBuyQuantity      Int      @db.Int
    totalSellQuantity     Int      @db.Int
    bidQty                Int      @db.Int
    bidprice              Float    @db.Float
    askQty                Int      @db.Int
    askPrice              Float    @db.Float
    underlyingValue       Float    @db.Float
    recordsId             Int
    records               Records  @relation(fields: [recordsId], references: [id])
}
